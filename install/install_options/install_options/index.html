
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.rke2.io/install/install_options/install_options/">
      
      <link rel="icon" href="../../../assets/favicon-32x32.png">
      <meta name="generator" content="mkdocs-1.4.0, mkdocs-material-8.5.3">
    
    
      
        <title>Overview - RKE2 - Rancher's Next Generation Kubernetes Distribution</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7a952b86.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Work+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Work Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="RKE2 - Rancher&#39;s Next Generation Kubernetes Distribution" class="md-header__button md-logo" aria-label="RKE2 - Rancher's Next Generation Kubernetes Distribution" data-md-component="logo">
      
  <img src="../../../assets/logo-stacked-white-rke2.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RKE2 - Rancher's Next Generation Kubernetes Distribution
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/rancher/rke2" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="RKE2 - Rancher&#39;s Next Generation Kubernetes Distribution" class="md-nav__button md-logo" aria-label="RKE2 - Rancher's Next Generation Kubernetes Distribution" data-md-component="logo">
      
  <img src="../../../assets/logo-stacked-white-rke2.svg" alt="logo">

    </a>
    RKE2 - Rancher's Next Generation Kubernetes Distribution
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/rancher/rke2" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../requirements/" class="md-nav__link">
        Requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        Quick Start
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ha/" class="md-nav__link">
        High Availability
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_4">
          Install Options
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Install Options" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Install Options
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Overview
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuring-the-linux-installation-script" class="md-nav__link">
    Configuring the Linux Installation Script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-windows-installation-script" class="md-nav__link">
    Configuring the Windows Installation Script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-windows-installation-script-usage-examples" class="md-nav__link">
    Other Windows Installation Script Usage Examples
  </a>
  
    <nav class="md-nav" aria-label="Other Windows Installation Script Usage Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-the-latest-version-instead-of-stable" class="md-nav__link">
    Install the Latest Version Instead of Stable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-the-latest-version-using-tar-installation-method" class="md-nav__link">
    Install the Latest Version using Tar Installation Method
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-rke2-server-nodes" class="md-nav__link">
    Configuring RKE2 Server Nodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-linux-rke2-agent-nodes" class="md-nav__link">
    Configuring Linux RKE2 Agent Nodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-windows-rke2-agent-nodes" class="md-nav__link">
    Configuring Windows RKE2 Agent Nodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-file" class="md-nav__link">
    Configuration File
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-when-running-the-binary-directly" class="md-nav__link">
    Configuring when Running the Binary Directly
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../server_config/" class="md-nav__link">
        Server Configuration Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linux_agent_config/" class="md-nav__link">
        Agent Configuration Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../windows_agent_config/" class="md-nav__link">
        Windows Agent Configuration Reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../methods/" class="md-nav__link">
        Installation Methods
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../network_options/" class="md-nav__link">
        Network Options
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../containerd_registry_configuration/" class="md-nav__link">
        Containerd Registry Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../airgap/" class="md-nav__link">
        Air-Gap Install
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../windows_airgap/" class="md-nav__link">
        Windows Air-Gap Install
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux_uninstall/" class="md-nav__link">
        Linux Uninstall
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../windows_uninstall/" class="md-nav__link">
        Windows Uninstall
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Upgrades
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Upgrades" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Upgrades
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../upgrade/upgrade/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../upgrade/basic_upgrade/" class="md-nav__link">
        Upgrade Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../upgrade/automated_upgrade/" class="md-nav__link">
        Automated Upgrades
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Security
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Security" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Security
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/about_hardened_images/" class="md-nav__link">
        About Hardened Images
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/hardening_guide/" class="md-nav__link">
        CIS Hardening Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/cis_self_assessment16/" class="md-nav__link">
        CIS v1.6 Self-Assessment Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/fips_support/" class="md-nav__link">
        FIPS 140-2 Enablement
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/policies/" class="md-nav__link">
        Default Policy Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/selinux/" class="md-nav__link">
        SELinux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/secrets_encryption/" class="md-nav__link">
        Secrets Encryption
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Architecture
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Architecture" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Architecture
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/architecture/" class="md-nav__link">
        Anatomy of a Next Generation Kubernetes Distribution
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../cluster_access/" class="md-nav__link">
        Cluster Access
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../backup_restore/" class="md-nav__link">
        Etcd Backup and Restore
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/" class="md-nav__link">
        Networking
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../helm/" class="md-nav__link">
        Helm Integration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../advanced/" class="md-nav__link">
        Advanced Options and Configuration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../subcommands/" class="md-nav__link">
        Subcommands
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../known_issues/" class="md-nav__link">
        Known Issues and Limitations
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuring-the-linux-installation-script" class="md-nav__link">
    Configuring the Linux Installation Script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-windows-installation-script" class="md-nav__link">
    Configuring the Windows Installation Script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-windows-installation-script-usage-examples" class="md-nav__link">
    Other Windows Installation Script Usage Examples
  </a>
  
    <nav class="md-nav" aria-label="Other Windows Installation Script Usage Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-the-latest-version-instead-of-stable" class="md-nav__link">
    Install the Latest Version Instead of Stable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-the-latest-version-using-tar-installation-method" class="md-nav__link">
    Install the Latest Version using Tar Installation Method
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-rke2-server-nodes" class="md-nav__link">
    Configuring RKE2 Server Nodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-linux-rke2-agent-nodes" class="md-nav__link">
    Configuring Linux RKE2 Agent Nodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-windows-rke2-agent-nodes" class="md-nav__link">
    Configuring Windows RKE2 Agent Nodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-file" class="md-nav__link">
    Configuration File
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-when-running-the-binary-directly" class="md-nav__link">
    Configuring when Running the Binary Directly
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/rancher/rke2/edit/master/docs/install/install_options/install_options.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h1>
<p>This page focuses on the configuration options available when setting up RKE2:</p>
<ul>
<li><a href="#configuring-the-linux-installation-script">Configuring the Linux installation script</a></li>
<li><a href="#configuring-the-windows-installation-script">Configuring the Windows installation script</a></li>
<li><a href="#configuring-rke2-server-nodes">Configuring RKE2 server nodes</a></li>
<li><a href="#configuring-linux-rke2-agent-nodes">Configuring Linux RKE2 agent nodes</a></li>
<li><a href="#configuring-windows-rke2-agent-nodes">Configuring Windows RKE2 agent nodes</a></li>
<li><a href="#configuration-file">Using the configuration file</a></li>
<li><a href="#configuring-when-running-the-binary-directly">Configuring when running the binary directly</a></li>
</ul>
<p>The primary way to configure RKE2 is through its <a href="#configuration-file">config file</a>. Command line arguments and environment variables are also available, but RKE2 is installed as a systemd service and thus these are not as easy to leverage.</p>
<h3 id="configuring-the-linux-installation-script">Configuring the Linux Installation Script<a class="headerlink" href="#configuring-the-linux-installation-script" title="Permanent link">&para;</a></h3>
<p>As mentioned in the <a href="../../quickstart/">Quick-Start Guide</a>, you can use the installation script available at <a href="https://get.rke2.io">https://get.rke2.io</a> to install RKE2 as a service.</p>
<p>The simplest form of this command is running, as root user or through <code>sudo</code>, as follows:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># curl -sfL https://get.rke2.io | sudo sh -</span>
curl -sfL https://get.rke2.io <span class="p">|</span> sh -
</code></pre></div>
<p>When using this method to install RKE2, the following environment variables can be used to configure the installation:</p>
<table>
<thead>
<tr>
<th>Environment Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span style="white-space: nowrap"><code>INSTALL_RKE2_VERSION</code></span></td>
<td>Version of RKE2 to download from GitHub. Will attempt to download the latest release from the <code>stable</code> channel if not specified. <code>INSTALL_RKE2_CHANNEL</code> should also be set if installing on an RPM-based system and the desired version does not exist in the <code>stable</code> channel.</td>
</tr>
<tr>
<td><span style="white-space: nowrap"><code>INSTALL_RKE2_TYPE</code></span></td>
<td>Type of systemd service to create, can be either "server" or "agent" Default is "server".</td>
</tr>
<tr>
<td><span style="white-space: nowrap"><code>INSTALL_RKE2_CHANNEL_URL</code></span></td>
<td>Channel URL for fetching RKE2 download URL. Defaults to <code>https://update.rke2.io/v1-release/channels</code>.</td>
</tr>
<tr>
<td><span style="white-space: nowrap"><code>INSTALL_RKE2_CHANNEL</code></span></td>
<td>Channel to use for fetching RKE2 download URL. Defaults to <code>stable</code>. Options include: <code>stable</code>, <code>latest</code>, <code>testing</code>.</td>
</tr>
<tr>
<td><span style="white-space: nowrap"><code>INSTALL_RKE2_METHOD</code></span></td>
<td>Method of installation to use. Default is on RPM-based systems <code>rpm</code>, all else <code>tar</code>.</td>
</tr>
<tr>
<td><span style="white-space: nowrap"><code>INSTALL_RKE2_SKIP_RELOAD</code></span></td>
<td>Skip reloading the systemctl daemon when doing a <code>tar</code> install.</td>
</tr>
</tbody>
</table>
<p>This installation script is straight-forward and will do the following:</p>
<ol>
<li>Obtain the desired version to install based on the above parameters. If no parameters are supplied, the latest official release will be used.</li>
<li>Determine and execute the installation method. There are two methods: rpm and tar. If the <code>INSTALL_RKE2_METHOD</code> variable is set, that will be respected, Otherwise, <code>rpm</code> will be used on operating systems that use this package management system. On all other systems, tar will be used. In the case of the tar method, the script will simply unpack the tar archive associated with the desired release. In the case of rpm, a yum repository will be set up and the rpm will be installed using yum.</li>
</ol>
<h3 id="configuring-the-windows-installation-script">Configuring the Windows Installation Script<a class="headerlink" href="#configuring-the-windows-installation-script" title="Permanent link">&para;</a></h3>
<p><strong>Windows Support is currently Experimental as of v1.21.3+rke2r1</strong>
<strong>Windows Support requires choosing Calico as the CNI for the RKE2 cluster</strong></p>
<p>As mentioned in the <a href="../../quickstart/">Quick-Start Guide</a>, you can use the installation script available at https://github.com/rancher/rke2/blob/master/install.ps1 to install RKE2 on a Windows Agent Node.</p>
<p>The simplest form of this command is as follows:
<div class="highlight"><pre><span></span><code><span class="nb">Invoke-WebRequest</span> <span class="n">-Uri</span> <span class="n">https</span><span class="p">://</span><span class="n">raw</span><span class="p">.</span><span class="n">githubusercontent</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">rancher</span><span class="p">/</span><span class="n">rke2</span><span class="p">/</span><span class="n">master</span><span class="p">/</span><span class="n">install</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-Outfile</span> <span class="n">install</span><span class="p">.</span><span class="n">ps1</span>
</code></pre></div>
When using this method to install the Windows RKE2 agent, the following parameters can be passed to configure the installation script:</p>
<div class="highlight"><pre><span></span><code><span class="go">SYNTAX</span>

<span class="go">install.ps1 [[-Channel] &lt;String&gt;] [[-Method] &lt;String&gt;] [[-Type] &lt;String&gt;] [[-Version] &lt;String&gt;] [[-TarPrefix] &lt;String&gt;] [-Commit] [[-AgentImagesDir] &lt;String&gt;] [[-ArtifactPath] &lt;String&gt;] [[-ChannelUrl] &lt;String&gt;] [&lt;CommonParameters&gt;]</span>

<span class="go">OPTIONS</span>

<span class="go">-Channel           Channel to use for fetching RKE2 download URL (Default: &quot;stable&quot;)</span>
<span class="go">-Method            The installation method to use. Currently tar or choco installation supported. (Default: &quot;tar&quot;)</span>
<span class="go">-Type              Type of RKE2 service. Only the &quot;agent&quot; type is supported on Windows. (Default: &quot;agent&quot;)</span>
<span class="go">-Version           Version of rke2 to download from Github</span>
<span class="go">-TarPrefix         Installation prefix when using the tar installation method. (Default: `C:/usr/local` unless `C:/usr/local` is read-only or has a dedicated mount point, in which case `C:/opt/rke2` is used instead)</span>
<span class="go">-Commit            (experimental/agent) Commit of RKE2 to download from temporary cloud storage. If set, this forces `--Method=tar`. Intended for development purposes only.</span>
<span class="go">-AgentImagesDir    Installation path for airgap images when installing from CI commit. (Default: `C:/var/lib/rancher/rke2/agent/images`)</span>
<span class="go">-ArtifactPath      If set, the install script will use the local path for sourcing the `rke2.windows-$SUFFIX` and `sha256sum-$ARCH.txt` files rather than the downloading the files from GitHub. Disabled by default.</span>
</code></pre></div>
<h3 id="other-windows-installation-script-usage-examples">Other Windows Installation Script Usage Examples<a class="headerlink" href="#other-windows-installation-script-usage-examples" title="Permanent link">&para;</a></h3>
<h4 id="install-the-latest-version-instead-of-stable">Install the Latest Version Instead of Stable<a class="headerlink" href="#install-the-latest-version-instead-of-stable" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="nb">Invoke-WebRequest</span> <span class="n">-Uri</span> <span class="n">https</span><span class="p">://</span><span class="n">raw</span><span class="p">.</span><span class="n">githubusercontent</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">rancher</span><span class="p">/</span><span class="n">rke2</span><span class="p">/</span><span class="n">master</span><span class="p">/</span><span class="n">install</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-Outfile</span> <span class="n">install</span><span class="p">.</span><span class="n">ps1</span>
<span class="p">./</span><span class="n">install</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-Channel</span> <span class="n">Latest</span>
</code></pre></div>
<h4 id="install-the-latest-version-using-tar-installation-method">Install the Latest Version using Tar Installation Method<a class="headerlink" href="#install-the-latest-version-using-tar-installation-method" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="nb">Invoke-WebRequest</span> <span class="n">-Uri</span> <span class="n">https</span><span class="p">://</span><span class="n">raw</span><span class="p">.</span><span class="n">githubusercontent</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">rancher</span><span class="p">/</span><span class="n">rke2</span><span class="p">/</span><span class="n">master</span><span class="p">/</span><span class="n">install</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-Outfile</span> <span class="n">install</span><span class="p">.</span><span class="n">ps1</span>
<span class="p">./</span><span class="n">install</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-Channel</span> <span class="n">Latest</span> <span class="n">-Method</span> <span class="n">Tar</span>
</code></pre></div>
<h3 id="configuring-rke2-server-nodes">Configuring RKE2 Server Nodes<a class="headerlink" href="#configuring-rke2-server-nodes" title="Permanent link">&para;</a></h3>
<p>For details on configuring the RKE2 server, refer to the <a href="../server_config/">server configuration reference.</a></p>
<h3 id="configuring-linux-rke2-agent-nodes">Configuring Linux RKE2 Agent Nodes<a class="headerlink" href="#configuring-linux-rke2-agent-nodes" title="Permanent link">&para;</a></h3>
<p>For details on configuring the RKE2 agent, refer to the <a href="../linux_agent_config/">agent configuration reference.</a></p>
<h3 id="configuring-windows-rke2-agent-nodes">Configuring Windows RKE2 Agent Nodes<a class="headerlink" href="#configuring-windows-rke2-agent-nodes" title="Permanent link">&para;</a></h3>
<p>For details on configuring the RKE2 Windows agent, refer to the <a href="../windows_agent_config/">Windows agent configuration reference.</a></p>
<h3 id="configuration-file">Configuration File<a class="headerlink" href="#configuration-file" title="Permanent link">&para;</a></h3>
<p>By default, RKE2 will launch with the values present in the YAML file located at <code>/etc/rancher/rke2/config.yaml</code>.</p>
<p>An example of a basic <code>server</code> config file is below:</p>
<div class="highlight"><pre><span></span><code><span class="nt">write-kubeconfig-mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;0644&quot;</span><span class="w"></span>
<span class="nt">tls-san</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;foo.local&quot;</span><span class="w"></span>
<span class="nt">node-label</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;foo=bar&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;something=amazing&quot;</span><span class="w"></span>
</code></pre></div>
<p>The configuration file parameters map directly to CLI arguments, with repeatable CLI arguments being represented as YAML lists.</p>
<p>An identical configuration using solely CLI arguments is shown below to demonstrate this:</p>
<div class="highlight"><pre><span></span><code>rke2 server <span class="se">\</span>
  --write-kubeconfig-mode <span class="s2">&quot;0644&quot;</span>    <span class="se">\</span>
  --tls-san <span class="s2">&quot;foo.local&quot;</span>             <span class="se">\</span>
  --node-label <span class="s2">&quot;foo=bar&quot;</span>            <span class="se">\</span>
  --node-label <span class="s2">&quot;something=amazing&quot;</span>
</code></pre></div>
<p>It is also possible to use both a configuration file and CLI arguments.  In these situations, values will be loaded from both sources, but CLI arguments will take precedence.  For repeatable arguments such as <code>--node-label</code>, the CLI arguments will overwrite all values in the list.</p>
<p>Finally, the location of the config file can be changed either through the cli argument <code>--config FILE, -c FILE</code>, or the environment variable <code>$RKE2_CONFIG_FILE</code>.</p>
<h3 id="configuring-when-running-the-binary-directly">Configuring when Running the Binary Directly<a class="headerlink" href="#configuring-when-running-the-binary-directly" title="Permanent link">&para;</a></h3>
<p>As stated, the installation script is primarily concerned with configuring RKE2 to run as a service. If you choose to not use the script, you can run RKE2 simply by downloading the binary from our <a href="https://github.com/rancher/rke2/releases/latest">release page</a>, placing it on your path, and executing it. The RKE2 binary supports the following commands:</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span style="white-space: nowrap"><code>rke2 server</code></span></td>
<td>Run the RKE2 management server, which will also launch the Kubernetes control plane components such as the API server, controller-manager, and scheduler. Only Supported on Linux.</td>
</tr>
<tr>
<td><span style="white-space: nowrap"><code>rke2 agent</code></span></td>
<td>Run the RKE2 node agent. This will cause RKE2 to run as a worker node, launching the Kubernetes node services <code>kubelet</code> and <code>kube-proxy</code>. Supported on Linux and Windows.</td>
</tr>
<tr>
<td><span style="white-space: nowrap"><code>rke2 help</code></span></td>
<td>Shows a list of commands or help for one command</td>
</tr>
</tbody>
</table>
<p>The <code>rke2 server</code> and <code>rke2 agent</code> commands have additional configuration options that can be viewed with <span style="white-space: nowrap"><code>rke2 server --help</code></span> or <span style="white-space: nowrap"><code>rke2 agent --help</code></span>.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../../ha/" class="md-footer__link md-footer__link--prev" aria-label="Previous: High Availability" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              High Availability
            </div>
          </div>
        </a>
      
      
        
        <a href="../server_config/" class="md-footer__link md-footer__link--next" aria-label="Next: Server Configuration Reference" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Server Configuration Reference
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.37e9125f.min.js"></script>
      
    
  </body>
</html>